---
sidebar_position: 1
---
# 精化（Refine）
![LangChain](https://pica.zhimg.com/50/v2-56e8bbb52aa271012541c1fe1ceb11a2_r.gif 'LangChain中文网')

精化文档链通过循环遍历输入文档并迭代更新其答案来构建响应。对于每个文档，它将所有非文档输入、当前文档和最新的中间答案传递给LLM链以获得新的答案。

由于精化链每次只向LLM传递单个文档，因此非常适合需要分析超出模型上下文范围的文档数量的任务。
显而易见的权衡是，与“Stuff documents chain”等链相比，该链会进行更多的LLM调用。
还有某些任务在迭代执行时很难完成。例如，当文档经常相互引用或任务需要从多个文档中获取详细信息时，精化链的性能可能较差。

![refine_diagram](/img/refine.jpg)
