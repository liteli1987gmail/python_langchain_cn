---
sidebar_position: 4
---
# 代理人（ Agents ）

![LangChain](https://pica.zhimg.com/50/v2-56e8bbb52aa271012541c1fe1ceb11a2_r.gif 'LangChain中文网')


有些应用程序需要根据用户输入，对LLM和其他工具进行灵活的调用链。**代理人（Agent）**接口为这类应用程序提供了灵活性。代理人可以访问一套工具，并根据用户输入决定使用哪些工具。代理人可以使用多个工具，并使用一个工具的输出作为下一个工具的输入。

代理人有两种主要类型：

- **动作代理人（Action agents）**：在每个时间步上，使用所有先前动作的输出决定下一个动作
- **计划执行代理人（Plan-and-execute agents）**：预先决定所有动作的完整顺序，然后按照计划执行，而不更新计划

动作代理人适用于小任务，而计划执行代理人适用于复杂或长时间运行的任务，这些任务需要保持长期目标和重点。通常，最佳方法是让计划执行代理人使用动作代理人执行计划，以将动态性与计划执行代理人的规划能力相结合。

有关代理人类型的完整列表，请参阅[代理人类型（agent types）](/docs/modules/agents/agent_types/)。与代理人相关的其他抽象概念包括：
- [**工具（Tools）**](/docs/modules/agents/tools/)：代理人可以采取的操作。您给代理人提供的工具高度取决于您希望代理人执行的操作
- [**工具包（Toolkits）**](/docs/modules/agents/toolkits/)：围绕一组工具的包装，可用于特定的用例。例如，为了使代理人能够
  与SQL数据库交互，很可能需要一个用于执行查询的工具和一个用于检查表的工具

## 动作代理人（Action agents）

在高层次上，动作代理人：
1. 接收用户输入
2. 决定是否使用任何工具以及工具输入
3. 调用工具并记录输出（也称为“观察结果”）
4. 使用工具历史记录、工具输入和观察结果决定下一步
5. 重复步骤3-4，直到确定可以直接回应用户

动作代理人包装在**代理执行器（agent executors）**中，代理执行器负责调用代理人，获取动作和动作输入，使用生成的输入调用动作引用的工具，获取工具的输出，然后将所有这些信息传递回代理人，以获取下一个动作。

尽管代理人可以通过多种方式构建，但通常涉及以下组件：

- **提示模板（Prompt template）**：负责接收用户输入和先前步骤，并构建发送给语言模型的提示
  
- **语言模型（Language model）**：接收包含用户输入和动作历史的提示，并决定下一步做什么
- **输出解析器（Output parser）**：接收语言模型的输出，并将其解析为下一个动作或最终答案

## 计划执行代理人（Plan-and-execute agents）

在高层次上，计划执行代理人：
1. 接收用户输入
2. 规划要执行的全部步骤序列
3. 按顺序执行步骤，将过去步骤的输出作为未来步骤的输入

最典型的实现方式是将规划者作为语言模型，将执行者作为动作代理人。在这里阅读更多内容[/docs/modules/agents/agent_types/plan_and_execute.html]。

## 开始

import GetStarted from "@snippets/modules/agents/get_started.mdx"

<GetStarted/>